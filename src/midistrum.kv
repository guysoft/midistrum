#:import Window kivy.core.window.Window
ScreenManager:
    id: screen_manager
    #transition: FadeTransition()
    ScreenOne:
        id: menu_screen
        name: 'ScreenOne'
        manager: 'screen_manager'
<ScreenOne>
    id: screen_one
    GridLayout:
        cols: 2
        GridLayout:
            cols: 1
            TitlebarNavigation:
            GridLayout:
                cols: 12
                MultiTouchButton:
                    text: "Db"
                MultiTouchButton:
                    text: "Ab"
                MultiTouchButton:
                    text: "Eb"
                MultiTouchButton:
                    text: "Bb"
                MultiTouchButton:
                    text: "F"
                MultiTouchButton:
                    text: "C"
                MultiTouchButton:
                    text: "G"
                MultiTouchButton:
                    text: "D"
                MultiTouchButton:
                    text: "A"
                MultiTouchButton:
                    text: "E"
                MultiTouchButton:
                    text: "B"
                MultiTouchButton:
                    text: "F#"

                MultiTouchButton:
                    text: "Dbm"
                MultiTouchButton:
                    text: "Abm"
                MultiTouchButton:
                    text: "Ebm"
                MultiTouchButton:
                    text: "Bbm"
                MultiTouchButton:
                    text: "Fm"
                MultiTouchButton:
                    text: "Cm"
                MultiTouchButton:
                    text: "Gm"
                MultiTouchButton:
                    text: "Dm"
                MultiTouchButton:
                    text: "Am"
                MultiTouchButton:
                    text: "Em"
                MultiTouchButton:
                    text: "Bm"
                MultiTouchButton:
                    text: "F#m"


                MultiTouchButton:
                    text: "Db7"
                MultiTouchButton:
                    text: "Ab7"
                MultiTouchButton:
                    text: "Eb7"
                MultiTouchButton:
                    text: "Bb7"
                MultiTouchButton:
                    text: "F7"
                MultiTouchButton:
                    text: "C7"
                MultiTouchButton:
                    text: "G7"
                MultiTouchButton:
                    text: "D7"
                MultiTouchButton:
                    text: "A7"
                MultiTouchButton:
                    text: "E7"
                MultiTouchButton:
                    text: "B7"
                MultiTouchButton:
                    text: "F#7"

    # Label:
    #     text: ""
    #     size_hint_x: None
    #     width: 5
    #     color: "white"
        BoxLayout:
            size_hint_x: None
            width: 300
            orientation: "vertical"
            CursorRectangle:
                number: 12
            CursorRectangle:
                number: 11
            CursorRectangle:
                number: 10
            CursorRectangle:
                number: 9
            CursorRectangle:
                number: 8
            CursorRectangle:
                number: 7
            CursorRectangle:
                number: 6
            CursorRectangle:
                number: 5
            CursorRectangle:
                number: 4
            CursorRectangle:
                number: 3
            CursorRectangle:
                number: 2
            CursorRectangle:
                number: 1
            CursorRectangle:
                number: 0


<TitlebarNavigation>
    pos_hint: {'top':1}
    ActionView:
        use_separator: True
        ActionPrevious:
            title: 'Strum'
            with_previous: False
        ActionOverflow:
        # ActionButton:
        #     icon: 'atlas://data/images/defaulttheme/audio-volume-high'
        ActionButton:
            text: 'About'
            on_press: app.root.get_screen(app.root.current).url_popup.open()
        ActionButton:
            id: settings
            text: 'Settings'
            on_press: app.open_settings()
        # ActionGroup:
        #     text: 'Group1'
        #     ActionButton:
        #         text: 'Btn5'
        #     ActionButton:
        #         text: 'Btn6'
        #     ActionButton:

        #         text: 'Btn7'

<Message@Popup>:
    auto_dismiss: False
    Button:
        text: "Please for new account to take effect"
        on_release: root.dismiss()


<AboutPopup>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        ScrollView:
            do_scroll_x: False
            BoxLayout:
                orientation: 'vertical'
                spacing: 10

                Label:
                    text: "Midistrum is open source software. It was written by Guy Sheffer (GuySoft)"
                    markup: True
                    halign: 'center'
                Label:
                    text: "Version v0.2.6"
                    markup: True
                    halign: 'center'
                Label:
                    text: "You can check it out at the project page. [ref=example][color=00ACFF]http://github.com/guysoft/midistrum[/color][/b][/ref]"
                    markup: True
                    halign: 'center'
                    on_ref_press: root.open_url()
                Button:
                    text: "Close"
                    markup: True
                    halign: 'center'
                    on_press: root.dismiss()
